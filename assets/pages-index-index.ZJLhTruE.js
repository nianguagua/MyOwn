import{o as a,c as e,w as t,a as l,b as i,d as s,t as n,n as u,e as c,i as d,f as o,g as f,h as r,r as m,j as h,k as _,u as v,l as p,m as b,F as g,p as z,S as x,q as w,s as k,v as y}from"./index-BgO0-AvM.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";const Z=F({__name:"IndexList",props:{item:Object,index:Number,index0:Number},emits:["guanzhuFun","dianzanFun","caiFun"],setup(m,{emit:h}){const _=m,v=h,p=a=>{console.log("个人空间")},b=(a,e,t)=>{v("dianzanFun",e,t,_.index0)};return(h,g)=>{const z=d,x=o,w=f,k=r;return a(),e(z,null,{default:t((()=>[l(z,{class:"content-box"},{default:t((()=>[l(z,{class:"header"},{default:t((()=>[l(z,{class:"item"},{default:t((()=>[i("img",{src:m.item.url,alt:"",srcset:"",onClick:p},null,8,["src"]),l(z,{class:"info"},{default:t((()=>[l(z,{class:"name"},{default:t((()=>[s(n(m.item.name),1)])),_:1}),l(z,{class:"time"},{default:t((()=>[s(n(m.item.time),1)])),_:1})])),_:1})])),_:1}),l(z,{class:"item"},{default:t((()=>[l(x,{class:u(["animate__animated",{hasGuzhu:m.item.hasGuzhu}]),"hover-class":"animate__flip","hover-stay-time":"800",onClick:g[0]||(g[0]=a=>{return m.item,e=m.index,void v("guanzhuFun",e,_.index0);var e})},{default:t((()=>[s("关注")])),_:1},8,["class"])])),_:1})])),_:1}),l(z,{class:"content",onClick:g[1]||(g[1]=a=>{m.item})},{default:t((()=>[l(z,null,{default:t((()=>[s(n(m.item.content),1)])),_:1}),""!=m.item.contentUrl?(a(),e(w,{key:0,mode:"widthFix",src:m.item.contentUrl,alt:"",srcset:""},null,8,["src"])):c("",!0)])),_:1}),i("div",{class:"footer"},[l(z,{class:u(["item",{"zan-active":m.item.hasZan}]),onClick:g[2]||(g[2]=a=>b(m.item,m.index,1))},{default:t((()=>[l(k,{class:"iconfont icon-dianzan2"}),l(k,null,{default:t((()=>[s(n(m.item.zan>0?m.item.zan:"支持"),1)])),_:1})])),_:1},8,["class"]),l(z,{class:u(["item",{"zan-active":!m.item.hasZan}]),onClick:g[3]||(g[3]=a=>b(m.item,m.index,2))},{default:t((()=>[l(k,{class:"iconfont icon-cai"}),l(k,null,{default:t((()=>[s("踩")])),_:1})])),_:1},8,["class"]),l(z,{class:"item"},{default:t((()=>[l(k,{class:"iconfont icon-pinglun2"}),l(k,null,{default:t((()=>[s(n(m.item.pinglun>0?m.item.pinglun:"评论"),1)])),_:1})])),_:1}),l(z,{class:"item"},{default:t((()=>[l(k,{class:"iconfont icon-zhuanfa1"}),l(k,null,{default:t((()=>[s("分享")])),_:1})])),_:1})])])),_:1})])),_:1})}}},[["__scopeId","data-v-fd5506f1"]]),j=F({__name:"index",setup(i){const c=m(500);m([]);const o=m(1),f=m(""),r=m([]);h((()=>{j(),_({success:a=>{c.value=a.windowHeight-v(100)}})}));const F=[{id:1,url:"https://gd-hbimg.huaban.com/668f8ca145565fc7893a9a25cec48ccc48fa54123f996-d7E9vX_fw1200webp",name:"昵称1",time:"2022-05-28 下午4:22",content:"这是一条内容1",contentUrl:"https://gd-hbimg.huaban.com/1c4f6ce4c186e21fb53dc1ac5ef705012a5f0fd614c15f-3t0Ss4_fw1200webp",zan:8,hasZan:!0,cai:0,pinglun:6,hasGuzhu:!1},{id:2,url:"https://gd-hbimg.huaban.com/4c685408a04c055c7194a73521f4b983eeff9df617750-pBg833_fw1200webp",name:"昵称2",time:"2022-05-28 下午4:22",content:"这是一条内容2",contentUrl:"",zan:1,hasZan:!0,cai:0,pinglun:0,hasGuzhu:!1},{id:2,url:"https://gd-hbimg.huaban.com/82cb2a84b070ea9eddf72b0c4a1037757b113c3d1acb1-j0oj77_fw1200webp",name:"昵称3",time:"2022-05-28 下午4:22",content:"这是一条内容2",contentUrl:"https://gd-hbimg.huaban.com/395f0e204f685ce6061d116cf0bad2b3a1d25bd5dae7d7-3DZF0Y_fw658webp",zan:10,hasZan:!1,cai:0,pinglun:5,hasGuzhu:!1}],j=()=>{r.value=[{title:"关注",id:"guanzhu",list:F},{title:"推荐",id:"tuijian",list:F},{title:"体育",id:"tiyu",list:F},{title:"热点",id:"redian",list:[]},{title:"财经",id:"caijing",list:[]},{title:"娱乐",id:"yule",list:[]},{title:"军事",id:"junshi",list:[]},{title:"历史",id:"lishi",list:[]}]},G=(a,e)=>{r.value[e].list[a].hasGuzhu=!r.value[e].list[a].hasGuzhu,r.value[e].list[a].hasGuzhu?k({title:"成功关注"}):k({title:"取消关注",icon:"error"})},C=(a,e,t)=>{if(1==e){if(r.value[t].list[a].hasZan)return;r.value[t].list[a].hasZan=!0,r.value[t].list[a].zan++}else if(2==e){if(!r.value[t].list[a].hasZan)return;r.value[t].list[a].hasZan=!1,r.value[t].list[a].zan--}},U=a=>{o.value=a.detail.current};return(i,m)=>{const h=d,_=x,v=y,k=w;return a(),e(h,null,{default:t((()=>[l(_,{class:"scroll-row","scroll-x":"true","scroll-into-view":f.value},{default:t((()=>[(a(!0),p(g,null,b(r.value,((l,i)=>(a(),e(h,{key:l.id,class:u(["scroll-row-item",o.value==i?"tb-active":""]),id:l.id,"show-scrollbar":"false",onClick:a=>((a,e)=>{o.value!=e&&(o.value=e,f.value=a.id)})(l,i)},{default:t((()=>[s(n(l.title),1)])),_:2},1032,["class","id","onClick"])))),128))])),_:1},8,["scroll-into-view"]),l(k,{current:o.value,onChange:U,style:z("height:"+c.value+"px")},{default:t((()=>[(a(!0),p(g,null,b(r.value,((i,s)=>(a(),e(v,{key:i.id,"item-id":i.id},{default:t((()=>[l(h,{class:"swiper-item"},{default:t((()=>[l(_,{class:"scroll-col","scroll-y":"true",style:z("height:"+c.value+"px")},{default:t((()=>[l(h,null,{default:t((()=>[(a(!0),p(g,null,b(i.list,((t,l)=>(a(),e(Z,{key:t.id,item:t,index:l,index0:s,onGuanzhuFun:G,onDianzanFun:C},null,8,["item","index","index0"])))),128))])),_:2},1024)])),_:2},1032,["style"])])),_:2},1024)])),_:2},1032,["item-id"])))),128))])),_:1},8,["current","style"])])),_:1})}}},[["__scopeId","data-v-a77b1fd0"]]);export{j as default};
