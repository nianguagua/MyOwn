import{_ as y,u as F,r as g,b,c as a,o as I,h as C,e as o,w as t,t as w,l as L,i as s,j as S,f as U,p as B,k as K}from"./index-DHTo_dqg.js";const N={setup(){const r=F(),n=g(!1),d=g(),e=b({account:"admin",passworld:"admin"}),p=b({account:[{required:!0,message:"账号不能为空",trigger:"blur"},{min:3,max:5,message:"账号长度为3-5",trigger:"blur"}],passworld:[{required:!0,message:"密码不能为空",trigger:"blur"}]});return{ruleFormRef:d,form:e,rules:p,canLogin:n,subFun:async function(){d.value&&await d.value.validate((u,c)=>{if(!u){let l="";c.account?l=c.account[0].message:c.passworld&&(l=c.passworld[0].message),w(l,"error");return}n.value=!0,L({username:e.account,password:e.passworld}).then(l=>{if(n.value=!1,l.msg=="ok"){let i=l.data.token;localStorage.setItem("token",i),w("登录成功"),r.push("/zkt")}})})}}}},m=r=>(B("data-v-83032bb7"),r=r(),K(),r),R={id:"login"},q=m(()=>s("div",{class:"left box"},[s("h1",null,"欢迎光临")],-1)),j={class:"right box"},z={class:"card-box"},E=m(()=>s("h2",null,"欢迎回来",-1)),T=m(()=>s("div",{class:"tip-box"},[s("span"),s("span",null,"账号密码登录"),s("span")],-1)),A={class:"input-box"};function D(r,n,d,e,p,h){const u=a("el-col"),c=a("User"),l=a("el-icon"),i=a("el-input"),f=a("el-form-item"),v=a("Lock"),x=a("el-button"),k=a("el-form"),V=a("el-row");return I(),C("div",R,[o(V,null,{default:t(()=>[o(u,{lg:16,md:12},{default:t(()=>[q]),_:1}),o(u,{lg:8,md:12},{default:t(()=>[s("div",j,[s("div",z,[E,T,s("div",A,[o(k,{model:e.form,rules:e.rules,ref:"ruleFormRef",onKeyup:S(e.subFun,["enter"])},{default:t(()=>[o(f,{prop:"account"},{default:t(()=>[o(i,{modelValue:e.form.account,"onUpdate:modelValue":n[0]||(n[0]=_=>e.form.account=_),placeholder:"请输入用户名",clearable:""},{prefix:t(()=>[o(l,null,{default:t(()=>[o(c)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(f,{prop:"passworld"},{default:t(()=>[o(i,{modelValue:e.form.passworld,"onUpdate:modelValue":n[1]||(n[1]=_=>e.form.passworld=_),placeholder:"请输入密码",type:"password",clearable:""},{prefix:t(()=>[o(l,null,{default:t(()=>[o(v)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(x,{type:"primary",round:"",onClick:e.subFun,loading:e.canLogin},{default:t(()=>[U("登录")]),_:1},8,["onClick","loading"])]),_:1},8,["model","rules","onKeyup"])])])])]),_:1})]),_:1})])}const H=y(N,[["render",D],["__scopeId","data-v-83032bb7"]]);export{H as default};
